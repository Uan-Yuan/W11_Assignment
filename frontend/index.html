<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Car Sales Forecast</title>
</head>

<body>
    <h2>Forecast Next Month's Car Sales</h2>

    <form id="predictForm">
        <p>Enter sales for the last 6 months (most recent = Month 6):</p>

        <label>Month 1:</label>
        <input type="number" step="any" id="m1" required><br><br>

        <label>Month 2:</label>
        <input type="number" step="any" id="m2" required><br><br>

        <label>Month 3:</label>
        <input type="number" step="any" id="m3" required><br><br>

        <label>Month 4:</label>
        <input type="number" step="any" id="m4" required><br><br>

        <label>Month 5:</label>
        <input type="number" step="any" id="m5" required><br><br>

        <label>Month 6:</label>
        <input type="number" step="any" id="m6" required><br><br>

        <button type="submit">Predict</button>
    </form>

    <h3 id="result"></h3>

    <script>
        document.getElementById("predictForm").addEventListener("submit", async function (e) {
            e.preventDefault();

            const data = {
                m1: Number(document.getElementById("m1").value),
                m2: Number(document.getElementById("m2").value),
                m3: Number(document.getElementById("m3").value),
                m4: Number(document.getElementById("m4").value),
                m5: Number(document.getElementById("m5").value),
                m6: Number(document.getElementById("m6").value)
            };

            const res = await fetch("/predict", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });

            const result = await res.json();
            document.getElementById("result").innerText =
                "Predicted sales next month: " + result.prediction.toFixed(2);
        });
    </script>
</body>

</html>